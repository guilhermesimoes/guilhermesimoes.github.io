// https://github.com/pbeshai/d3-interpolate-path v2.3.0
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){i=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw l}}}}function a(t,e){var n=[],r=[];return t.length&&function t(e,o){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var u=Array(e.length-1),l=0;l<u.length;l++)0===l&&n.push(e[0]),l===u.length-1&&r.push(e[l+1]),u[l]=[(1-o)*e[l][0]+o*e[l+1][0],(1-o)*e[l][1]+o*e[l+1][1]];t(u,o)}}(t,e),{left:n,right:r.reverse()}}function i(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],4===t.length?e.type="C":3===t.length?e.type="Q":e.type="L",e}function c(t,e,n){var r=[[t.x,t.y]];return null!=e.x1&&r.push([e.x1,e.y1]),null!=e.x2&&r.push([e.x2,e.y2]),r.push([e.x,e.y]),function(t,e){for(var n=[],r=t,o=1/(e=e||2),u=0;u<e-1;u++){var l=a(r,o/(1-o*u));n.push(l.left),r=l.right}return n.push(r),n}(r,n).map(i)}var f=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,p={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function y(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function h(t){return"".concat(t.type).concat(p[t.type].map(function(e){return t[e]}).join(","))}function s(t,e,n){var r=t.length-1,u=e.length-1,l=r/u,a=y(u).reduce(function(e,r,o){var u=Math.floor(l*o);if(n&&u<t.length-1&&n(t[u],t[u+1])){var a=l*o%1<.5;e[u]&&(a?u>0?u-=1:u<t.length-1&&(u+=1):u<t.length-1?u+=1:u>0&&(u-=1))}return e[u]=(e[u]||0)+1,e},[]).reduce(function(e,n,r){if(r===t.length-1){var u=y(n,o({},t[t.length-1]));return"M"===u[0].type&&u.forEach(function(t){t.type="L"}),e.concat(u)}return e.concat(function(t,e,n){var r=[];if("L"===e.type||"Q"===e.type||"C"===e.type)r=r.concat(c(t,e,n));else{var u=o({},t);"M"===u.type&&(u.type="L"),(r=r.concat(y(n-1).map(function(){return u}))).push(e)}return r}(t[r],t[r+1],n))},[]);return a.unshift(t[0]),a}function g(t){for(var e,n,r=(t||"").match(f)||[],o=[],u=0;u<r.length;++u)if(e=p[r[u]]){n={type:r[u]};for(var l=0;l<e.length;++l)n[e[l]]=+r[u+l+1];u+=e.length,o.push(n)}return o}function v(t,o,u){var a=null==t?[]:t.slice(),i=null==o?[]:o.slice(),c="object"===n(u)?u:{excludeSegment:u,snapEndsToInput:!0},f=c.excludeSegment,y=c.snapEndsToInput;if(!a.length&&!i.length)return function(){return[]};var h=!(0!==a.length&&"Z"!==a[a.length-1].type||0!==i.length&&"Z"!==i[i.length-1].type);a.length>0&&"Z"===a[a.length-1].type&&a.pop(),i.length>0&&"Z"===i[i.length-1].type&&i.pop(),a.length?i.length||i.push(a[0]):a.push(i[0]),0!==Math.abs(i.length-a.length)&&(i.length>a.length?a=s(a,i,f):i.length<a.length&&(i=s(i,a,f)));var g=(a=a.map(function(t,e){return function(t,e){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==e.type&&"M"!==e.type.toUpperCase()){var o={};Object.keys(e).forEach(function(u){var l=e[u],a=t[u];void 0===a&&(r.includes(u)?a=l:(void 0===a&&n[u]&&(a=t[n[u]]),void 0===a&&(a=0))),o[u]=a}),o.type=e.type,t=o}return t}(t,i[e])})).map(function(t){return function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){r(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}({},t)});return h&&(g.push({type:"Z"}),a.push({type:"Z"})),function(t){if(1===t&&y)return null==o?[]:o;if(0===t)return a;for(var e=0;e<g.length;++e){var n,r=a[e],u=i[e],c=g[e],f=l(p[c.type]);try{for(f.s();!(n=f.n()).done;){var h=n.value;c[h]=(1-t)*r[h]+t*u[h],"largeArcFlag"!==h&&"sweepFlag"!==h||(c[h]=Math.round(c[h]))}}catch(t){f.e(t)}finally{f.f()}}return g}}Object.keys(p).forEach(function(t){p[t.toLowerCase()]=p[t]}),t.interpolatePath=function(t,e,r){var o=g(t),u=g(e),a="object"===n(r)?r:{excludeSegment:r,snapEndsToInput:!0},i=a.excludeSegment,c=a.snapEndsToInput;if(!o.length&&!u.length)return function(){return""};var f=v(o,u,{excludeSegment:i,snapEndsToInput:c});return function(t){if(1===t&&c)return null==e?"":e;var n,r="",o=l(f(t));try{for(o.s();!(n=o.n()).done;)r+=h(n.value)}catch(t){o.e(t)}finally{o.f()}return r}},t.interpolatePathCommands=v,t.pathCommandsFromString=g,Object.defineProperty(t,"__esModule",{value:!0})});